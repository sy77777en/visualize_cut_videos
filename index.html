function renderAll() {
    const video = VIDEO_DATA[tSelect.value][cSelect.value].find(v => v.name === vSelect.value);
    if (!video) return;

    document.getElementById('mainContent').classList.remove('hidden');

    // 1. 设置主视频
    const oriVideo = document.getElementById('oriVideo');
    oriVideo.src = `${video.remote_dir}/${video.origin}`;

    // 2. 渲染切分出的视频片段
    const clipGrid = document.getElementById('clipGrid');
    clipGrid.innerHTML = video.parts.map(p => `
        <div class="bg-slate-900 border border-slate-800 p-2 rounded-xl">
            <video src="${video.remote_dir}/${p}" controls class="mb-2"></video>
            <p class="text-[10px] text-slate-500 text-center font-mono truncate">${p}</p>
        </div>
    `).join('');

    // 3. 渲染断点帧对比 (每一行一个断点)
    const frameGrid = document.getElementById('frameGrid');
    // 修改为单列布局 (grid-cols-1)，确保每一组占据一行
    frameGrid.className = "grid grid-cols-1 gap-8"; 
    
    frameGrid.innerHTML = video.frame_groups.map(group => `
        <div class="bg-slate-900 border border-slate-800 p-4 rounded-2xl shadow-lg">
            <div class="flex items-center justify-between mb-3 border-b border-slate-800 pb-2">
                <span class="text-blue-400 font-bold font-mono">Cut Point: Frame ${group.idx}</span>
                <span class="text-[10px] text-slate-500 uppercase tracking-widest">Sequence Preview</span>
            </div>
            <div class="grid grid-cols-3 gap-4">
                <div class="space-y-1">
                    <img src="${video.remote_dir}/${group.prev}" class="rounded-lg ring-1 ring-slate-700 w-full" 
                         onerror="this.src='https://placehold.co/400x225/1e293b/64748b?text=N/A'">
                    <p class="text-[10px] text-center text-slate-500 font-medium">PREV (-1)</p>
                </div>
                <div class="space-y-1">
                    <img src="${video.remote_dir}/${group.current}" class="rounded-lg ring-2 ring-red-500 w-full"
                         onerror="this.src='https://placehold.co/400x225/1e293b/64748b?text=N/A'">
                    <p class="text-[10px] text-center text-red-400 font-bold">CURRENT (CUT)</p>
                </div>
                <div class="space-y-1">
                    <img src="${video.remote_dir}/${group.next}" class="rounded-lg ring-1 ring-slate-700 w-full"
                         onerror="this.src='https://placehold.co/400x225/1e293b/64748b?text=N/A'">
                    <p class="text-[10px] text-center text-slate-500 font-medium">NEXT (+1)</p>
                </div>
            </div>
        </div>
    `).join('');
}
